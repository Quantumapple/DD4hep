<lccdd xmlns:compact="http://www.lcsim.org/schemas/compact/1.0" 
       xmlns:xs="http://www.w3.org/2001/XMLSchema" 
       xs:noNamespaceSchemaLocation="http://www.lcsim.org/schemas/compact/1.0/compact.xsd">

  <!-- Have the materials    -->
  <includes>
    <gdmlFile  ref="${DD4hepINSTALL}/DDDetectors/compact/elements.xml"/>
    <gdmlFile  ref="${DD4hepINSTALL}/DDDetectors/compact/materials.xml"/>
  </includes>

  <define>
    <!--  Define the world box  -->
    <constant name="world_side" value="50000*mm"/>
    <constant name="world_x" value="world_side"/>
    <constant name="world_y" value="world_side"/>
    <constant name="world_z" value="world_side"/>
  </define>
  <display>
    <vis name="BeamPipeVis" r="0.0" g="0.99" b="0.0" showDaughters="false" visible="true"/>
    <vis name="WALL_vis" alpha="0.6" r="0.5" g="0.5" b="0.5" showDaughters="true" visible="true"/>
    <vis name="B2_vis" alpha="0.6" r="0" g="0.5" b="0.5" showDaughters="true" visible="true"/>
  </display>
  <detectors>
    <include ref="CODEX-b.xml" type="xml"/>
    
    
    <detector id="11" name="station0_layer0" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis" >
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="12" name="station0_layer1" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+4*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="13" name="station0_layer2" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+8*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="14" name="station0_layer3" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+12*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="15" name="station0_layer4" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+16*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="16" name="station0_layer5" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+20*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    
    <detector id="21" name="station1_layer0" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+167*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="22" name="station1_layer1" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+171*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="23" name="station1_layer2" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+175*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="24" name="station2_layer0" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+334*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="25" name="station2_layer1" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+338*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="26" name="station2_layer2" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+342*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    
    <detector id="31" name="station3_layer0" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+501*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="32" name="station3_layer1" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+505*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="33" name="station3_layer2" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+509*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="34" name="station4_layer0" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+668*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="35" name="station4_layer1" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+672*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="36" name="station4_layer2" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+676*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    
    <detector id="41" name="station5_layer0" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+835*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="42" name="station5_layer1" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+839*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="43" name="station5_layer2" type="DD4hep_BoxSegment" vis="Codex_Module2_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+843*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="44" name="station6_layer0" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+1000*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="45" name="station6_layer1" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+996*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="46" name="station6_layer2" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+992*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    
    <detector id="51" name="station6_layer3" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+988*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="52" name="station6_layer4" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+984*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="53" name="station6_layer5" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+980*cm" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="2" name="top_layer0" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="500*cm+1*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="54" name="top_layer1" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="500*cm+5*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="55" name="top_layer2" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="500*cm+9*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="56" name="top_layer3" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="500*cm+13*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    
    <detector id="61" name="top_layer4" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="500*cm+17*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="62" name="top_layer5" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="500*cm+21*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="63" name="bottom_layer0" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="-500*cm-1*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="64" name="bottom_layer1" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="-500*cm-5*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="65" name="bottom_layer2" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="-500*cm-9*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="66" name="bottom_layer3" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="-500*cm-13*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="2" name="bottom_layer4" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="-500*cm-17*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    <detector id="2" name="bottom_layer5" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="-500*cm-21*cm"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="90*degree"/>
    </detector>
    
    <detector id="2" name="front_layer0" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)-500*cm-1*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="front_layer1" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)-500*cm-5*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="front_layer2" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)-500*cm-9*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="front_layer3" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)-500*cm-13*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="front_layer4" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)-500*cm-17*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="front_layer5" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)-500*cm-21*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="back_layer0" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)+500*cm+1*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="back_layer1" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)+500*cm+5*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="back_layer2" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)+500*cm+9*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="back_layer3" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)+500*cm+13*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="back_layer4" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)+500*cm+17*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>
    <detector id="2" name="back_layer5" type="DD4hep_BoxSegment" vis="Codex_Module1_Vis">
      <material name="Si"/>
      <box      x="1*cm"  y="500*cm"   z="500*cm"/>
      <position x="2500*cm*sin(60*degree)+500*cm" y="0"   z="2500*cm*cos(60*degree)+500*cm+21*cm"/>
      <rotation x="0" y="90*degree"   z="0"/>
    </detector>

    <detector id="3" name="LHCb" type="DD4hep_BoxSegment" vis="B2_vis">
      <material name="Air"/>
      <box      x="500*cm"  y="500*cm"   z="2500*cm"/>
      <position x="0" y="0"   z="1000*cm"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector id="4" name="WALL" type="DD4hep_BoxSegment" vis="WALL_vis">
      <material name="Concrete"/>
      <box      x="200*cm"  y="500*cm"   z="2500*cm"/>
      <position x="2250*cm*sin(60*degree)" y="0"   z="2500*cm*cos(60*degree)"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
    <detector name="Beampipe" type="DD4hep_TubeSegment" vis="BeamPipeVis">
      <material name="Be" />
      <tubs rmin="5*cm" rmax="5.1*cm" zhalf="2600*cm" />
      <position x="0" y="0"   z="1000*cm"/>
      <rotation x="0" y="0"   z="0"/>
    </detector>
  </detectors>
</lccdd>
